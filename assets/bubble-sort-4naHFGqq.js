import{j as r,r as h,e as j,c as y}from"./immer-RQ96mRkP.js";import{c as _,_ as w,i as v,A as E}from"./App-qRoeme1d.js";const B=async e=>{L("array",e);let o=!1,n=e.length;for(;!o;){o=!0;for(let t=0;t<n-1;t++)await u("compare",t,t+1),e[t]>e[t+1]&&(o=!1,[e[t],e[t+1]]=[e[t+1],e[t]],await u("swap",t,t+1));n--,z("sortedFrom",n)}await u("done")},R="_arrayBox_18xw5_1",k="_column_18xw5_4",A="_row_18xw5_7",C="_withPointers_18xw5_10",F="_arrayElement_18xw5_14",S="_pointer_18xw5_23",c={arrayBox:R,column:k,row:A,withPointers:C,arrayElement:F,pointer:S},N=({color:e="FFF",...o})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:17,height:34,viewBox:"0 0 34 68",...o,children:[r.jsx("path",{fill:"#FFF",d:"M22 68H12C5.4 68 0 62.6 0 56V12C0 5.4 5.4 0 12 0h10c6.6 0 12 5.4 12 12v44c0 6.6-5.4 12-12 12z"}),r.jsx("path",{fill:"none",stroke:e,strokeMiterlimit:9.999,strokeWidth:4,d:"M4.7 22 17 9.8 29.2 22M17 9.8V61"})]}),M=({array:e,direction:o="row",highlights:a={},colors:n={},pointers:t={},color:l=void 0})=>{const g=t instanceof Array&&t.length!==0||t instanceof Object&&Object.keys(t).length!==0;return r.jsx("div",{className:_(c.arrayBox,c[o],{[c.withPointers]:g}),children:e.map((m,s)=>{const i={};if(a[s]!==void 0&&(i.outline="2px solid "+a[s]),l!==void 0&&l!==!1)i.backgroundColor=l;else if(typeof n=="function"){const x=n(s,m);x!==void 0&&(i.backgroundColor=x)}else Array.isArray(n)?n.indexOf(s)!==-1&&(i.backgroundColor="gray"):n[s]!==void 0&&(i.backgroundColor=n[s]);let p=null;return t[s]!==void 0&&(p=r.jsx(N,{color:t[s]})),r.jsxs("div",{className:c.arrayElement,style:i,children:[m,r.jsx("div",{className:c.pointer,children:p})]},m+"-"+s)})})};var d=(e=>(e.RED="red",e.GREEN="green",e.BLUE="blue",e.YELLOW="yellow",e))(d||{});const f={compare:d.BLUE,swap:d.RED},O=({curState:e,curEvent:o})=>r.jsxs("div",{children:["Array:",r.jsx("div",{children:e&&r.jsx(M,{array:e.array,pointers:o.name!=="done"?{[o.args[0]]:f[o.name],[o.args[1]]:f[o.name]}:void 0,colors:a=>a+1>e.sortedFrom?d.GREEN:void 0,color:o.name==="done"&&d.GREEN})})]}),P=({doStart:e})=>{const[o,a]=h.useState(5),n=h.useCallback(t=>{const l=w.shuffle(w.range(1,o+1));e([l],t)},[o]);return r.jsxs("div",{children:[r.jsxs("label",{children:["Array size:",r.jsx("input",{type:"number",name:"n",value:o,onChange:t=>a(parseInt(t.target.value))})]}),r.jsx("button",{onClick:()=>n(!1),children:"Start"}),r.jsx("button",{onClick:()=>n(!0),children:"Run Full"})]})},b={algo:B,startComponent:P,renderComponent:O,nameEn:"Bubble sort",descriptionEn:"Bubble sort algorithm",authorEn:"Alzhanov Maxim",nameRu:"Пузырьковая сортировка",descriptionRu:"Алгоритм пузырьковой сортировки",authorRu:"Альжанов Максим"},{bind:L,here:u,update:z,store:G}=v(b);j();document.getElementById("root");y.createRoot(document.getElementById("root")).render(r.jsx(h.StrictMode,{children:r.jsx(E,{manifest:b,store:G})}));
